# 기능 명세서: 뉴스 큐레이션 서비스 (News Curation Service)

**기능 브랜치**: `main`
**작성일**: 2026-01-27
**상태**: 초안 (Draft)
**입력**: 사용자 설명: "기존 프로젝트 문서화"

## 사용자 시나리오 및 테스트 *(필수)*

### 사용자 스토리 1 - 최신 뉴스 피드 조회 (우선순위: P1)

사용자로서, 최신 트렌드를 파악하기 위해 과학 및 기술 분야의 최신 뉴스를 피드 형태로 보고 싶습니다.

**우선순위 선정 이유**: 서비스의 핵심 가치 제안입니다. 이 기능 없이는 애플리케이션의 존재 목적이 없습니다.

**독립 테스트**: 홈페이지를 방문하여 뉴스 카드가 제목, 요약, 이미지와 함께 표시되는지 확인하여 전체 테스트가 가능합니다.

**인수 시나리오**:

1. **Given** 데이터베이스에 수집된 뉴스가 있을 때, **When** 홈페이지를 방문하면, **Then** 최신순으로 정렬된 뉴스 카드 목록이 보인다.
2. **Given** 뉴스 피드 화면에서, **When** 바닥까지 스크롤하면, **Then** 추가 뉴스 기사가 자동으로 로드된다 (무한 스크롤).
3. **Given** 뉴스 카드를 볼 때, **When** 내용을 확인하면, **Then** 전체 원문 대신 AI가 생성한 3줄 요약이 보인다.

---

### 사용자 스토리 2 - 카테고리별 뉴스 필터링 (우선순위: P2)

사용자로서, 관심 있는 주제에 집중하기 위해 특정 카테고리(예: 기술, 과학)별로 뉴스를 필터링하고 싶습니다.

**우선순위 선정 이유**: 불필요한 정보를 줄이고 관련 콘텐츠만 제공하여 사용자 경험을 향상시킵니다.

**독립 테스트**: 카테고리 탭을 클릭하고 해당 카테고리에 속한 뉴스만 표시되는지 확인합니다.

**인수 시나리오**:

1. **Given** 홈페이지에 있을 때, **When** "과학" 탭을 클릭하면, **Then** 과학 관련 뉴스 기사만 표시된다.
2. **Given** 특정 카테고리 탭에 있을 때, **When** 페이지를 새로고침하면, **Then** 선택된 카테고리가 유지된다.

---

### 사용자 스토리 3 - 관리자 설정 (우선순위: P3)

관리자로서, 코드 변경 없이 콘텐츠 큐레이션 과정을 제어하기 위해 뉴스 카테고리와 수집 스케줄을 관리하고 싶습니다.

**우선순위 선정 이유**: 운영 유지보수 및 확장성에 필수적입니다.

**독립 테스트**: `/admin` 페이지에 접속하여 새 카테고리를 추가하거나 크론 스케줄을 성공적으로 변경합니다.

**인수 시나리오**:

1. **Given** 관리자 페이지에 있을 때, **When** 검색 쿼리와 함께 새 카테고리를 추가하면, **Then** 카테고리 목록에 나타나고 뉴스 수집 시 사용 가능하다.
2. **Given** 시스템 설정 섹션에서, **When** 크론 스케줄을 업데이트하면, **Then** 새 스케줄이 저장되고 향후 수집에 적용된다.
3. **Given** 관리자 페이지에 있을 때, **When** "지금 수집하기"를 클릭하면, **Then** 시스템이 즉시 뉴스 수집 작업을 트리거하고 로그를 업데이트한다.

---

### 엣지 케이스 (Edge Cases)

- NewsAPI 제한에 도달하면 어떻게 되는가?
    - 시스템은 에러를 로그에 남기고, 제한이 리셋되거나 백오프 기간이 지날 때까지 수집을 중단해야 한다. 기존 데이터는 여전히 제공되어야 한다.
- OpenAI API가 실패하면 어떻게 되는가?
    - 뉴스는 저장되지만 요약은 비어있거나 원문으로 처리되어야 한다. UI는 요약 없음 상태를 자연스럽게 처리해야 한다.
- 사용자가 존재하지 않는 카테고리 URL을 방문하면 어떻게 되는가?
    - 시스템은 "전체" 카테고리로 리다이렉트하거나 친화적인 404 메시지를 보여주어야 한다.

## 요구사항 *(필수)*

### 기능 요구사항 (Functional Requirements)

- **FR-001**: 시스템은 설정된 검색 쿼리에 기반하여 외부 NewsAPI로부터 뉴스를 수집해야 한다(MUST).
- **FR-002**: 시스템은 URL 고유 제약 조건을 사용하여 수집된 뉴스 기사를 로컬 SQLite 데이터베이스에 저장해야 한다(MUST).
- **FR-003**: 시스템은 OpenAI GPT를 사용하여 각 수집된 기사에 대해 3문장 요약을 생성해야 한다(MUST).
- **FR-004**: 시스템은 카테고리로 필터링되고 페이지네이션된 뉴스 목록을 조회할 수 있는 REST API를 제공해야 한다(MUST).
- **FR-005**: 사용자는 반응형 그리드 레이아웃에서 뉴스를 볼 수 있어야 한다(MUST).
- **FR-006**: 시스템은 사용자의 시스템 설정에 따라 "다크 모드"를 지원해야 한다(MUST).
- **FR-007**: 관리자는 디버깅을 위해 API 호출 및 수집 작업 로그를 볼 수 있어야 한다(MUST).
- **FR-008**: UI 상호작용(예: 드롭다운 메뉴)은 사용자의 일반적인 마우스 이동 패턴을 고려하여 끊김 없이 제공되어야 한다(MUST).

### 핵심 엔티티 (Key Entities)

- **News**: 뉴스 기사를 나타냄. 속성: `id`, `title`, `url`, `summary`, `publishedAt`, `categoryId`.
- **Category**: 주제를 나타냄. 속성: `id`, `name`, `searchQuery`, `isDefault`.
- **SystemSetting**: 설정을 위한 키-값 쌍. 속성: `key`, `value` (예: `CRON_SCHEDULE`).

## 성공 기준 *(필수)*

### 측정 가능한 성과 (Measurable Outcomes)

- **SC-001**: 뉴스 피드 페이지 로딩 시간은 4G 네트워크 환경에서 1.5초 이내여야 한다.
- **SC-002**: 50개 기사에 대한 뉴스 수집 작업은 30초 이내에 완료되어야 한다.
- **SC-003**: 수집된 뉴스 기사의 99%에 대해 AI 요약이 생성되어야 한다.
- **SC-004**: 무한 스크롤은 다음 결과 페이지를 500ms 이내에 로드해야 한다.
